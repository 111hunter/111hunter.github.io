# 自我指涉与数理逻辑


“我是谁？”，这种对指代自身的疑问每个人都会有。在自然语言和形式语言中，如果一个句子直接或间接提及自身，就称为[自指](https://en.wikipedia.org/wiki/Self-reference)(Self-reference)，自指的语句常常会造成悖论。

## 不可判定怪圈

“这句话在说谎”，那么上句话是否在说谎呢？你会发现，你若判定真，那么就是假。你若判定假，那么就是真。永远得不到确切答案，最终陷入不可判定的怪圈：

<div align=center><img src="/img/self-ref.jpg" width="50%"></div>

你以为这只是文字游戏？然而这种判定怪圈在严谨的自然科学中同样存在。并且科学家们运用它，推动了人类社会的进步。

## 崩塌的数学大厦

在 1900 年巴黎数学家大会上，希尔伯特提出了他的 23 个著名数学问题。以希尔伯特为首的很多数学家，打算让数学矗立在一个坚实的地基(公理体系)上，一劳永逸地解决所有关于对数学可靠性的种种疑问，这可是一项宏图大志。

### 第二个问题

这 23 个问题中的第 2 个问题是完成数学家们理想计划的关键一步，它包含如下三个问题：

- 数学是完备的吗？(正确的数学陈述，是否总能被证明？)
- 数学是一致的吗？(数学是否前后一致，没有内部矛盾？)
- 数学是可判定的吗？(能否仅通过计算判定数学陈述的真假？)

在数学中，不证自明的事实被归纳为公理。公理是数学推演和计算的起点，对公理的陈述就是命题，已被证明成立的重要命题被称为定理。那么一个可靠的数学系统至少应该满足以下性质：

- 有效性：在系统中如果前提为真，那么结论也为真
- 可靠性：系统中的所有定理都为真
- 一致性：系统中所有公理，定理之间没有矛盾
- 完备性：系统中不存在无法证明或无法证伪的命题

### 哥德尔不完备定理

这个想法非常美好，然而不久后，哥德尔用两条[不完备定理](https://en.wikipedia.org/wiki/G%C3%B6del%27s_incompleteness_theorems)将数学家们拍醒了：

- 第一定理：任何包含了算术的数学系统不可能同时拥有一致性和完备性(这里算术指[皮亚诺算术(PA)的公理](https://en.wikipedia.org/wiki/Peano_axioms#Arithmetic)，这说明任何一个允许自然数加法和乘法的体系必定是不完备的，不能通过推理和计算得到所有真命题)。

- 第二定理：任何包含了算术的数学系统，如果它是一致的，那么它就不能证明自身的一致性。

哥德尔不完备定理宣告了把数学彻底形式化的愿望不可能实现，它让我们意识到“正确”与“可证”是两码事，简直颠覆了我们的认知，他的证明过程其实是构造了自指怪圈。

## 图灵机的由来

哥德尔得到了第二个问题中前两个问题的答案。不久之后，图灵给出了其中最后一个问题的答案：数学是不可判定的。

### 图灵对计算的思考

什么是计算？计算就是由输入(前提)到输出(结论)的过程。什么是可计算的？可计算就是一定能在有限步骤内完成的计算。为了给[可计算](https://en.wikipedia.org/wiki/Computability)一个精确定义，图灵提出了一种叫图灵机的数学模型，并提出了[可计算函数](https://en.wikipedia.org/wiki/Computable_function)(算法)的概念。(为什么可计算就是图灵机可判定，请看[邱奇－图灵论题](https://en.wikipedia.org/wiki/Church%E2%80%93Turing_thesis))

图灵对计算的思考让他解决了希尔伯特的问题，他的证明过程分两步:

- 1.停机问题不可判定
- 2.停机问题到判定问题的归约

### 停机问题不可判定

[停机问题](https://en.wikipedia.org/wiki/Halting_problem)(halting problem)：是否存在一个程序 P，对于有任意输入参数的程序 w，能够判断 w 会在有限时间内结束或者死循环。图灵用对角论证法证明了，不存在解决停机问题的通用算法。本文引入自指做一个反证法证明(程序中的自指主要是递归)：

- 假设存在可以判定任意程序是否停机的程序，我们姑且称它为上帝程序
- 那么一定存在一个撒旦程序，首先让上帝程序判定自己，然后根据上帝判定结果，相反地运行程序

伪代码描述如下：

```py
def is_halt(program, input):
    if program halts on input:
        return true
    else:
        return false

def against_is_halt():
    if is_halt(against_is_halt): 
        while (1):
            pass
    else:
        pass
```

在撒旦程序中，上帝程序的判断都是错的，所以不存在这样的上帝程序。停机问题是不可判定问题，这响应了哥德尔不完备定理。

### 到判定问题的规约

现在将数学陈述转化为程序 w 的输入参数，前面的停机问题证明了，不存在上帝程序能够判定程序 w 能否在有限时间内结束，因此数学是不可判定的。

## 自指与自复制

美国哲学家蒯因(Quine)创造了一种不使用代词就能构造自指语句的方法，称为蒯因技巧。如下句子便采用了蒯因技巧：

把“把中的第一个字放到左引号前面，其余的字放到右引号后面，并保持引号及其中的字不变”中的第一个字放到左引号前面，其余的字放到右引号后面，并保持引号及其中的字不变

当你按照该句子的指示操作后，便得到了它自身。该句子仅用动作便完成了一次自复制。我们发现这种结构的句子完全能用数学符号表达继而演化成数学函数。

数学家克林(Kleene)将蒯因这种语言上的操作技巧进行数学化得到了一种更加普适的[递归定理](https://en.wikipedia.org/wiki/Kleene%27s_recursion_theorem#Kleene's_second_recursion_theorem)。有了这个递归定理以后，数学家就可以在严格的数学公理体系中玩各种各样的自指游戏。哥德尔和图灵就是利用这种技术来完成他们的伟大证明的。

## 思考总结

自指太神秘了，关于它的研究涉及到了很多主流科学的交叉领域，作为门外汉的我只能无限感慨。想了解相关知识的读者，可以阅读下面的参考资料。

**参考资料**

- [计算的极限(零)：逻辑与图灵机](https://mp.weixin.qq.com/s/WiWN-C3ansL48NiWLkYJNg)
- [系统中的观察者——被科学遗忘的角色](http://www.swarmagents.cn/files/jake201113171315.pdf)
- [自指机器的奥秘](https://swarma.org/?p=3128)
